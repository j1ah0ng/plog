---
---

<button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
  <span class="icon-sun">☀︎</span>
  <span class="icon-moon">☾</span>
</button>

<script is:inline>
  const toggle = document.getElementById('theme-toggle');
  if (toggle) {
    toggle.addEventListener('click', function() {
      const html = document.documentElement;
      const current = html.dataset.theme;
      const next = current === 'dark' ? 'light' : 'dark';
      html.dataset.theme = next;
      localStorage.setItem('theme', next);
    });
  }
</script>

<style>
  .theme-toggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: var(--toggle-bg, #fffff8);
    border: 1px solid currentColor;
    border-radius: 4px;
    padding: 0.4rem 0.6rem;
    font-size: 1.2rem;
    cursor: pointer;
    color: inherit;
    opacity: 0.7;
    transition: opacity 0.2s;
    z-index: 100;
  }

  :global([data-theme="dark"]) .theme-toggle {
    --toggle-bg: #151515;
  }

  .theme-toggle:hover {
    opacity: 1;
  }

  @media (max-width: 760px) {
    .theme-toggle {
      top: auto;
      bottom: 1rem;
      right: 1rem;
      font-size: 1rem;
      padding: 0.3rem 0.5rem;
    }
  }

  .icon-sun,
  .icon-moon {
    display: none;
    width: 1em;
    text-align: center;
  }

  :global([data-theme="dark"]) .icon-sun {
    display: inline-block;
  }

  :global([data-theme="light"]) .icon-moon {
    display: inline-block;
  }
</style>
